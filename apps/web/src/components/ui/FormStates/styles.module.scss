.formStatesWrapper {
  position: absolute;
  inset: -2px;
  z-index: 10;
  pointer-events: auto;
  border-radius: 0.5rem;
  // border: 1px solid var(--neutral-600, #5b5a5a);
  background-color: #141414a5;
  backdrop-filter: blur(2px);
  overflow: hidden;

  // Subtle fade-in animation for the wrapper
  animation: wrapperFadeIn 320ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;

  &[data-mode='light'] {
    background-color: #ffffffa5;
  }
}

.loading {
  display: flex;
  position: absolute;
  inset: 0;
  align-items: center;
  justify-content: center;

  .loadingSpinner {
    display: flex;
    align-items: center;
    justify-content: center;

    // Smooth slide-up animation for the loader
    animation: loaderSlideUp 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.2s
      both;
  }

  .spinner {
    position: relative;
    width: 2rem;
    height: 2rem;
    animation: iosSpinner 1.25s linear infinite;
  }

  .spinnerRing {
    position: absolute;
    width: 2px;
    height: 6px;
    background-color: var(--neutral-600, #5b5a5a);
    border-radius: 1px;
    top: 2px;
    left: 50%;
    transform-origin: 1px 14px;
    transform: translateX(-50%);

    &:nth-child(1) {
      transform: translateX(-50%) rotate(0deg);
      opacity: 1;
    }
    &:nth-child(2) {
      transform: translateX(-50%) rotate(45deg);
      opacity: 0.85;
    }
    &:nth-child(3) {
      transform: translateX(-50%) rotate(90deg);
      opacity: 0.7;
    }
    &:nth-child(4) {
      transform: translateX(-50%) rotate(135deg);
      opacity: 0.55;
    }
    &:nth-child(5) {
      transform: translateX(-50%) rotate(180deg);
      opacity: 0.4;
    }
    &:nth-child(6) {
      transform: translateX(-50%) rotate(225deg);
      opacity: 0.25;
    }
    &:nth-child(7) {
      transform: translateX(-50%) rotate(270deg);
      opacity: 0.1;
    }
    &:nth-child(8) {
      transform: translateX(-50%) rotate(315deg);
      opacity: 0.05;
    }
  }

  &[data-mode='dark'] .spinnerRing {
    background-color: var(--neutral-200, #f8f8f8);
  }
}

.success,
.error {
  position: absolute;
  inset: 0;
  padding: 1rem;
  line-height: 1.16;
  border-radius: 0.5rem;
  overflow: hidden;

  // Smooth entrance animation for success/error states
  animation: stateSlideIn 220ms cubic-bezier(0.25, 0.46, 0.45, 0.94) both;

  .wrapper {
    overflow-y: auto;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;

    &::-webkit-scrollbar {
      width: 0.375rem;
    }

    &::-webkit-scrollbar-track {
      background: var(--neutral-300, #ede6de);
      border-radius: 16px;
    }

    &::-webkit-scrollbar-thumb {
      background: var(--neutral-400, #5b5a5a);
      border-radius: 16px;
    }

    &::-webkit-scrollbar-thumb:hover {
      background: var(--neutral-500, #303030);
    }
    > svg {
      margin-bottom: 0.75rem;
    }
  }

  .heading {
    font-size: 1.25rem;
    font-family: var(--font-family-switzer);
    margin-bottom: 0.75rem;
    line-height: 1.2;
    font-weight: 500;
    letter-spacing: -0.03em;

    strong {
      font-weight: 500;
    }
  }

  .paragraph {
    font-size: var(--typography-body-m, 0.875rem);
    line-height: 1.5;
  }

  button {
    margin-top: 1rem;
  }
}

.success {
  color: var(--neutral-600, #5b5a5a);
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='181' height='167' fill='none'%3E%3Cg clip-path='url(%23a)' opacity='.06'%3E%3Cpath stroke='%23009116' stroke-linecap='round' stroke-linejoin='round' stroke-width='11.469' d='M52.929 76.385v59.918a7.491 7.491 0 0 1-7.49 7.49h-14.98a7.488 7.488 0 0 1-7.49-7.49V83.874a7.49 7.49 0 0 1 7.49-7.49h22.47Zm0 0a29.96 29.96 0 0 0 29.959-29.96v-7.49a14.98 14.98 0 0 1 29.959 0v37.45h22.469a14.983 14.983 0 0 1 14.98 14.98l-7.49 37.448c-1.077 4.595-3.12 8.54-5.822 11.242-2.702 2.702-5.916 4.014-9.157 3.738H75.398a22.473 22.473 0 0 1-22.47-22.47'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M.5-6h179.755v179.755H.5z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E")
    center center no-repeat var(--neutral-200, #f8f8f8);
  border: 1px solid var(--primary-success, #009116);

  > svg {
    margin-bottom: 0.75rem;
  }

  .heading {
    color: var(--neutral-700, #303030);

    strong {
      color: var(--primary-success, #009116);
    }
  }
}

.error {
  color: var(--neutral-400, #e7e7e7);
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='181' fill='none'%3E%3Cg clip-path='url(%23a)' opacity='.06'%3E%3Cpath stroke='%23FF6A00' stroke-linecap='round' stroke-linejoin='round' stroke-width='11.469' d='M52.428 97.87V37.952a7.49 7.49 0 0 0-7.49-7.49h-14.98a7.49 7.49 0 0 0-7.489 7.49V90.38a7.49 7.49 0 0 0 7.49 7.49h22.47Zm0 0a29.957 29.957 0 0 1 29.96 29.959v7.49a14.979 14.979 0 1 0 29.959 0V97.87h22.469a14.979 14.979 0 0 0 14.98-14.98l-7.49-37.449c-1.077-4.594-3.121-8.54-5.822-11.242-2.702-2.701-5.916-4.013-9.158-3.737H74.898a22.47 22.47 0 0 0-22.47 22.47'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 .5h179.755v179.755H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E")
    center center no-repeat var(--neutral-800, #141414);
  border: 1px solid var(--primary-error, #ff6a00);

  > svg {
    margin-bottom: 0.75rem;
  }

  .heading {
    color: var(--neutral-200, #f8f8f8);

    strong {
      color: var(--primary-error, #ff6a00);
    }
  }
}

@keyframes iosSpinner {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes wrapperFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(2px);
  }
}

@keyframes loaderSlideUp {
  from {
    opacity: 0;
    transform: translateY(0.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes stateSlideIn {
  from {
    opacity: 0;
    filter: blur(4px);
  }
  to {
    opacity: 1;
    filter: blur(0px);
  }
}
