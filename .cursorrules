# SCSS Guidelines

## Structure and Nesting

### Core Principles

1. **Always nest child classes inside parent classes** - Maintain proper parent-child relationships throughout the SCSS file
2. **Nest media queries inside the main parent class** - All responsive styles should be nested inside the main class at the bottom, with the same child nesting structure
3. **Maintain nesting structure in media queries** - Inside the media query, preserve the same parent-child nesting structure as desktop styles

### File Organization

```scss
// 1. Parent class with all nested children (Desktop styles)
.parentClass {
  // Parent styles

  .childClass {
    // Child styles

    .grandchildClass {
      // Grandchild styles
    }
  }

  .anotherChild {
    // Styles
  }

  // Media queries nested at the end of the parent class
  @media (max-width: 56.1875rem) {
    // Mobile parent overrides

    .childClass {
      // Mobile child overrides

      .grandchildClass {
        // Mobile grandchild overrides
      }
    }

    .anotherChild {
      // Mobile overrides
    }
  }
}

// 2. Sibling classes (if any standalone classes exist)
.siblingClass {
  // Styles

  @media (max-width: 56.1875rem) {
    // Mobile overrides
  }
}

// 3. Keyframe animations (at file level, outside classes)
@keyframes animationName {
  from {
  }
  to {
  }
}
```

### Nesting Rules

- **Nest modifiers** using `&` (e.g., `&:hover`, `&.active`, `&::before`)
- **Nest pseudo-elements** inside their parent (e.g., `&::before`, `&::after`)
- **Nest state classes** using `&` (e.g., `&.isOpen`, `&[data-state='active']`)
- **Nest child elements** that are semantically related to the parent
- **Nest media queries** inside the main parent class at the bottom, maintaining the same nesting structure

### Example: Properly Structured Component

```scss
.button {
  padding: 1rem;
  background: white;
  border: 1px solid black;

  &:hover {
    background: gray;
  }

  &:focus-visible {
    outline: 2px solid blue;
  }

  &.primary {
    background: blue;
    color: white;
  }

  .icon {
    width: 1rem;
    height: 1rem;
    margin-right: 0.5rem;

    svg {
      fill: currentColor;
    }
  }

  .label {
    font-weight: 500;
  }

  @media (max-width: 56.1875rem) {
    padding: 0.75rem;
    width: 100%;

    .icon {
      width: 0.875rem;
      height: 0.875rem;
    }

    .label {
      font-size: 0.875rem;
    }
  }
}
```

## Media Queries

### Breakpoint Guidelines

- **Mobile-first approach**: Start with base (desktop) styles, override in mobile media query
- **Use rem units**: Always convert px to rem (16px = 1rem)
- **Use max-width queries**: Target mobile with `max-width: 56.1875rem` (899px)
- **Non-full values**: Use `.1875` instead of `.25` for precise targeting (e.g., 56.1875rem instead of 56.25rem)

### Standard Breakpoints

```scss
// Tablet and below (899px)
@media (max-width: 56.1875rem) {
}

// Mobile (767px)
@media (max-width: 47.9375rem) {
}

// Small mobile (575px)
@media (max-width: 35.9375rem) {
}
```

### Media Query Nesting Rule

✅ **CORRECT**: Media queries nested inside the main parent class

```scss
.sidebar {
  // Desktop styles

  .content {
    // Desktop styles
  }

  @media (max-width: 56.1875rem) {
    // Mobile parent overrides

    .content {
      // Mobile child overrides
    }
  }
}
```

❌ **INCORRECT**: Media queries at file level requiring repeated class selectors

```scss
.sidebar {
  // Desktop styles

  .content {
    // Desktop styles
  }
}

@media (max-width: 56.1875rem) {
  .sidebar {
    // Mobile overrides

    .content {
      // Mobile overrides
    }
  }
}
```

❌ **INCORRECT**: Scattered media queries breaking nesting structure

```scss
.sidebar {
  // Desktop styles

  @media (max-width: 56.1875rem) {
    // Mobile styles
  }

  .content {
    // Desktop styles

    @media (max-width: 56.1875rem) {
      // Mobile styles
    }
  }
}
```

## Units and Sizing

- **Always use rem instead of px** (except for fixed image dimensions)
- **Use em only for letter-spacing**
- **Assumption**: 1rem = 16px
- **Fixed dimensions**: Only use px for fixed width/height on image containers

### Examples

```scss
// ✅ CORRECT
.element {
  padding: 1.5rem; // 24px
  margin: clamp(1rem, calc(1vw / 0.48), 2rem);
  font-size: 0.875rem; // 14px
  letter-spacing: -0.02em; // em for letter-spacing
}

// ❌ INCORRECT
.element {
  padding: 24px;
  margin: 1rem 2rem 3rem 4rem;
  font-size: 14px;
  letter-spacing: -0.5px;
}
```

## Fluid Sizing

Use `clamp()` for fluid sizes with viewport-based calculations:

```scss
.element {
  padding: clamp(1rem, calc(1.5vw / 0.48), 2rem);
  gap: clamp(0.5rem, calc(1vw / 0.48), 1.5rem);
}
```

## Animations and Transitions

### Timing

- **Use milliseconds (ms)** instead of seconds (s)
- **Never use `transition: all`** - always specify properties
- **Use cubic-bezier** for custom easing

### Examples

```scss
// ✅ CORRECT
.element {
  transition:
    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),
    transform 350ms cubic-bezier(0.4, 0, 0.2, 1);
}

// ❌ INCORRECT
.element {
  transition: all 0.3s ease;
}
```

### Common Easing Functions

```scss
// Smooth ease-out (most common)
cubic-bezier(0.4, 0, 0.2, 1)

// Spring-like (for dropdowns, modals)
cubic-bezier(0.16, 1, 0.3, 1)

// Ease-in (for closing animations)
cubic-bezier(0.4, 0, 1, 1)
```

## BEM-like Naming (with CSS Modules)

When using CSS Modules, use camelCase for class names:

```scss
.productCard {
  // Card styles

  .productCardImage {
    // Image styles
  }

  .productCardContent {
    // Content styles

    .productCardTitle {
      // Title styles
    }

    .productCardDescription {
      // Description styles
    }
  }
}
```

## Comments

Use comments to separate major sections:

```scss
// Hero Section
.hero {
  // styles
}

// Product Grid
.productGrid {
  // styles
}

// Mobile Styles
@media (max-width: 56.1875rem) {
  // all mobile overrides
}
```

## Z-Index Scale

Maintain consistent z-index values:

```scss
// Modal/Overlay: 1000
// Dropdown: 50
// Sticky header: 100
// Fixed sidebar: 1000
// Tooltip: 200
```

## Performance Optimizations

```scss
// Use will-change for animated properties
.animated {
  will-change: transform;
  transform: translateX(-100%);
  transition: transform 350ms;
}

// iOS smooth scrolling
.scrollable {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
```

## Accessibility

Always include focus states:

```scss
.button {
  // Base styles

  &:hover {
    // Hover styles
  }

  &:focus-visible {
    outline: 2px solid var(--color-focus);
    outline-offset: 2px;
  }

  &:active {
    // Active/pressed styles
  }
}
```

## Summary Checklist

- [ ] All child classes nested inside parents
- [ ] Media queries nested inside main parent class (not at file level)
- [ ] Media query maintains same nesting structure
- [ ] All units in rem (except letter-spacing in em)
- [ ] Transitions specify properties (no `all`)
- [ ] Animation durations in milliseconds
- [ ] Fluid sizes use clamp() where appropriate
- [ ] Focus states included for interactive elements
- [ ] Comments separate major sections
- [ ] Z-index values follow scale
- [ ] Keyframe animations at file level (outside classes)
